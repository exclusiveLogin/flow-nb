!function(t){function e(r){if(a[r])return a[r].exports;var n=a[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var a={};e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,r){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="public/",e(e.s=15)}({15:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var n=a(6),l=r(n),i=a(5),o=r(i),s=a(48),u=r(s);window.ls=new l.default,window.FC=o.default,window.FT=u.default},48:function(t,e,a){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),l=function(){function t(e,a,n,l,i){if(r(this,t),this.integrator_p={},this.integrator_nb={},!e)throw new Error("Нет входных данных Причала");if(this.data_p=e,!a)throw new Error("Нет входных данных Нефтебазы");if(this.data_nb=a,!n)throw new Error("Нет Дельта-сигма интегратора для потока причала");if(Object.assign(this.integrator_p,n),!l)throw new Error("Нет Дельта-сигма интегратора для потока нефтебазы");Object.assign(this.integrator_nb,l),i&&(this.callbackFunc=i),console.log("FlowCalc создан")}return n(t,[{key:"setDataStream",value:function(t,e){t?this.data_p=t:console.log("Нет входных данных Причала"),e?this.data_nb=e:console.log("Нет входных данных Нефтебазы")}},{key:"calcFlow",value:function(t,e,a){if((this.data_p||t)&&(this.data_nb||e)&&(this.prevMaxP=!1,this.prevMaxNB=!1,t&&(this.data_p=t),e&&(this.data_nb=e),a&&(this.callbackFunc=a),this.data_p&&this.data_nb)){var r=[],n=[];return this.data_p.map(function(t,e){var a=this.integrator_p.Integrity(t.value);if(e>this.integrator_p.Buffer.length-1){var n={};Object.assign(n,t),n.value=a,n.x=Number(t.utc),n.y=Number(a),r.push(n)}},this),this.data_nb.map(function(t,e){var a=this.integrator_nb.Integrity(t.value);if(e>this.integrator_nb.Buffer.length-1){var r={};Object.assign(r,t),r.value=a,r.x=Number(t.utc),r.y=Number(a),n.push(r)}},this),this.callbackFunc&&this.callbackFunc(),[r,n]}}}]),t}();e.default=l},5:function(t,e,a){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),l=function(){function t(e,a,n,l,i){if(r(this,t),this.integrator_p={},this.integrator_nb={},!e)throw new Error("Нет входных данных Причала");if(this.data_p=e,!a)throw new Error("Нет входных данных Нефтебазы");if(this.data_nb=a,!n)throw new Error("Нет Дельта-сигма интегратора для потока причала");if(Object.assign(this.integrator_p,n),!l)throw new Error("Нет Дельта-сигма интегратора для потока нефтебазы");Object.assign(this.integrator_nb,l),i&&(this.callbackFunc=i),console.log("FlowCalc создан")}return n(t,[{key:"setDataStream",value:function(t,e){t?this.data_p=t:console.log("Нет входных данных Причала"),e?this.data_nb=e:console.log("Нет входных данных Нефтебазы")}},{key:"calcFlow",value:function(t,e,a){if((this.data_p||t)&&(this.data_nb||e)&&(this.prevMaxP=!1,this.prevMaxNB=!1,t&&(this.data_p=t),e&&(this.data_nb=e),a&&(this.callbackFunc=a),this.data_p&&this.data_nb)){var r=[],n=[];this.data_p.map(function(t,e){var a=this.integrator_p.Integrity(t.value);e>this.integrator_p.Buffer.length-1&&this.checkMaxP(a)&&(this.prevValP&&(this.data_p[e-1].value=this.prevValP),r.push(this.data_p[e-1])),this.prevValP=a},this),this.data_nb.map(function(t,e){var a=this.integrator_nb.Integrity(t.value);e>this.integrator_nb.Buffer.length-1&&this.checkMaxNB(a)&&(this.prevValNB&&(this.data_nb[e-1].value=this.prevValNB),n.push(this.data_nb[e-1])),this.prevValNB=a},this);var l=this.checkAnswerPoints(r,n);return this.callbackFunc&&this.callbackFunc(),l}}},{key:"checkMaxP",value:function(t){var e=Math.abs(t);return this.prevMaxP&&(e>this.prevMaxP&&(this.downlockP=!1),e<=this.prevMaxP&&!this.downlockP)?(this.downlockP=!0,!0):(this.prevMaxP=e,!1)}},{key:"checkMaxNB",value:function(t){var e=Math.abs(t);return this.prevMaxNB&&(e>this.prevMaxNB&&(this.downlockNB=!1),e<=this.prevMaxNB&&!this.downlockNB)?(this.downlockNB=!0,!0):(this.prevMaxNB=e,!1)}},{key:"checkAnswerPoints",value:function(t,e){if(t&&e){var a=[];for(var r in t)for(var n in e)if(e[n].utc-t[r].utc>0&&e[n].utc-t[r].utc<1700){if(t[r].value>0&&e[n].value>0){a.push([t[r],{ppts:t[r],nbpts:e[n]}]);break}if(t[r].value<0&&e[n].value<0){a.push([t[r],{ppts:t[r],nbpts:e[n]}]);break}}for(var l in e)for(var i in t)if(t[i].utc-e[l].utc>0&&t[i].utc-e[l].utc<1700){if(e[l].value>0&&t[i].value>0){a.push([e[l],{ppts:t[i],nbpts:e[l]}]);break}if(e[l].value<0&&t[i].value<0){a.push([e[l],{ppts:t[i],nbpts:e[l]}]);break}}return a}}},{key:"setCallback",value:function(t){this.callbackFunc=t||null}}]),t}();e.default=l},6:function(t,e,a){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),l=function(){function t(){r(this,t)}return n(t,[{key:"saveSettings",value:function(t){Object.keys(t).map(function(e,a){window.localStorage?(localStorage.setItem(e,t[e]),console.log("idx-"+a+":"+e+":"+t[e]+" is saved")):showSysMsg("Ваш браузер не поддерживает сохранение настроек")})}},{key:"loadSettings",value:function(){if(Global.INTSettings={},Global.RTSettings={},null!=localStorage.getItem("RTVertRange")){var t=JSON.parse(localStorage.getItem("RTVertRange"));$("#rt_vertRange").val(t),$("#rt_vertRange_slider").slider({value:t}),Global.RTSettings.vertRange=t}if(null!=localStorage.getItem("RTbuffer")){var t=JSON.parse(localStorage.getItem("RTbuffer"));$("#rt_buffer").val(t),$("#rt_buffer_slider").slider({value:t}),Global.RTSettings.buffer=t}if(null!=localStorage.getItem("ampFilterNB")){var t=JSON.parse(localStorage.getItem("ampFilterNB"));$("#int_ampfilter_nb").val(t),$("#int_ampfilter_slider_nb").slider({value:t}),Global.INTSettings.ampFilterNB=t}if(null!=localStorage.getItem("ampFilterP")){var t=JSON.parse(localStorage.getItem("ampFilterP"));$("#int_ampfilter_p").val(t),$("#int_ampfilter_slider_p").slider({value:t}),Global.INTSettings.ampFilterP=t}if(null!=localStorage.getItem("ampNB")){var t=JSON.parse(localStorage.getItem("ampNB"));$("#int_ampliffer_nb").val(t),$("#int_amp_slider_nb").slider({value:t}),Global.INTSettings.ampNB=t}if(null!=localStorage.getItem("ampP")){var t=JSON.parse(localStorage.getItem("ampP"));$("#int_ampliffer_p").val(t),$("#int_amp_slider_p").slider({value:t}),Global.INTSettings.ampP=t}if(null!=localStorage.getItem("post")){var t=JSON.parse(localStorage.getItem("post"));$("#int_postbuffer").val(t),$("#int_post_slider").slider({value:t}),Global.INTSettings.post=t}if(null!=localStorage.getItem("pre")){var t=JSON.parse(localStorage.getItem("pre"));$("#int_prebuffer").val(t),$("#int_pre_slider").slider({value:t}),Global.INTSettings.pre=t}if(null!=localStorage.getItem("tube1t")){var t=JSON.parse(localStorage.getItem("tube1t"));t?($(".btn_rt1_t").addClass("active"),$(".btn_rt1_t").addClass("btn-danger"),$("#rt_trend1").show(500,function(){Global.Trend1.reflow()})):($(".btn_rt1_t").removeClass("active"),$(".btn_rt1_t").removeClass("btn-danger"),$("#rt_trend1").hide(0)),Global.tube1T=t}if(null!=localStorage.getItem("tube2t")){var t=JSON.parse(localStorage.getItem("tube2t"));t?($(".btn_rt2_t").addClass("active"),$(".btn_rt2_t").addClass("btn-danger"),$("#rt_trend2").show(500,function(){Global.Trend2.reflow()})):($(".btn_rt2_t").removeClass("active"),$(".btn_rt2_t").removeClass("btn-danger"),$("#rt_trend2").hide(0)),Global.tube2T=t}if(null!=localStorage.getItem("tube3t")){var t=JSON.parse(localStorage.getItem("tube3t"));t?($(".btn_rt3_t").addClass("active"),$(".btn_rt3_t").addClass("btn-danger"),$("#rt_trend3").show(500,function(){Global.Trend3.reflow()})):($(".btn_rt3_t").removeClass("active"),$(".btn_rt3_t").removeClass("btn-danger"),$("#rt_trend3").hide(0)),Global.tube3T=t}if(null!=localStorage.getItem("tube4t")){var t=JSON.parse(localStorage.getItem("tube4t"));t?($(".btn_rt4_t").addClass("active"),$(".btn_rt4_t").addClass("btn-danger"),$("#rt_trend4").show(500,function(){Global.Trend4.reflow()})):($(".btn_rt4_t").removeClass("active"),$(".btn_rt4_t").removeClass("btn-danger"),$("#rt_trend4").hide(0)),Global.tube4T=t}if(null!=localStorage.getItem("INTTONLYBtn")){var t=JSON.parse(localStorage.getItem("INTTONLYBtn"));Global.IntToggleOnly=t,intToggleOnly()}if(null!=localStorage.getItem("INTARJBtn")){var t=JSON.parse(localStorage.getItem("INTARJBtn"));Global.IntARJT=t,intArjToggle()}if(null!=localStorage.getItem("INTRTTBtn")){var t=JSON.parse(localStorage.getItem("INTRTTBtn"));Global.IntRTT=t,intRTTToggle()}Global.RTSettings.buffer&&Global.RTSettings.vertRange&&saveRTSettings(),Global.INTSettings.pre&&Global.INTSettings.post&&Global.INTSettings.ampNB&&Global.INTSettings.ampP&&Global.INTSettings.ampFilterNB&&Global.INTSettings.ampFilterP&&saveIntSettings()}}]),t}();e.default=l}});
//# sourceMappingURL=loader.js.map