{"version":3,"sources":["webpack:///loader.js","webpack:///webpack/bootstrap c53dc219875efbeb8e01?ad62","webpack:///./js/loader.js","webpack:///./js/flowcalculator.js","webpack:///./js/storage.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","15","_interopRequireDefault","obj","default","_storage","_storage2","_flowcalculator","_flowcalculator2","window","ls","FC","5","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","FlowCalculator","data_p","data_nb","integrator_p","integrator_nb","view","cb","this","Error","viewContainerId","viewContainer","$","btn","find","console_p","console_nb","container_p","container_nb","viewData","nb","calc_cur_step","calc_cur_maxval","calc_cur_utc","calc_peaks","calc_answer_peaks","calc_all_steps","calc_est_steps","calc_idx","calc_cur_delta","calc_tune","callbackFunc","console","log","prevMaxP","prevMaxNB","peaks_p","map","elem","idx","current_val","Integrity","Buffer","checkMaxP","peaks_nb","checkMaxNB","peaks_splised_p","peaks_splised_nb","check","undefined","push","peaks_p_fine","peaks_nb_fine","peak","utc","checkAnswerPoints","nextval","tmpAbs","Math","abs","downlockP","downlockNB","stream1","stream2","result","id","6","LStore","objectToSave","keys","element","localStorage","setItem","showSysMsg","Global","INTSettings","RTSettings","getItem","tmp","JSON","parse","val","slider","vertRange","buffer","ampFilterNB","ampFilterP","ampNB","ampP","post","pre","addClass","show","Trend1","reflow","removeClass","hide","tube1T","Trend2","tube2T","Trend3","tube3T","Trend4","tube4T","IntToggleOnly","intToggleOnly","IntARJT","intArjToggle","IntRTT","intRTTToggle","saveRTSettings","saveIntSettings"],"mappings":"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","file":"loader.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"public/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 15);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 15:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _storage = __webpack_require__(6);\n\nvar _storage2 = _interopRequireDefault(_storage);\n\nvar _flowcalculator = __webpack_require__(5);\n\nvar _flowcalculator2 = _interopRequireDefault(_flowcalculator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.ls = new _storage2.default();\nwindow.FC = _flowcalculator2.default;\n\n/***/ }),\n\n/***/ 5:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar FlowCalculator = function () {\n    function FlowCalculator(data_p, data_nb, integrator_p, integrator_nb, view, cb) {\n        _classCallCheck(this, FlowCalculator);\n\n        if (data_p) {\n            this.data_p = data_p;\n        } else {\n            throw new Error(\"Нет входных данных Причала\");\n        }\n        if (data_nb) {\n            this.data_nb = data_nb;\n        } else {\n            throw new Error(\"Нет входных данных Нефтебазы\");\n        }\n        if (integrator_p) {\n            this.integrator_p = integrator_p;\n        } else {\n            throw new Error(\"Нет Дельта-сигма интегратора для потока причала\");\n        }\n        if (integrator_nb) {\n            this.integrator_nb = integrator_nb;\n        } else {\n            throw new Error(\"Нет Дельта-сигма интегратора для потока нефтебазы\");\n        }\n        if (view) {\n            this.viewContainerId = view;\n            this.viewContainer = $(view);\n            this.btn = this.viewContainer.find(\"#btn_calc_auto\");\n            this.console_p = this.viewContainer.find(\".streamlog .p\");\n            this.console_nb = this.viewContainer.find(\".streamlog .nb\");\n            this.container_p = this.viewContainer.find(\".streamcontainer .p\");\n            this.container_nb = this.viewContainer.find(\".streamcontainer .nb\");\n            this.viewData = {};\n            this.viewData.p = {};\n            this.viewData.nb = {};\n            this.viewData.p.calc_cur_step = this.container_p.find(\".calc_cur_step\");\n            this.viewData.p.calc_cur_maxval = this.container_p.find(\".calc_cur_maxval\");\n            this.viewData.p.calc_cur_utc = this.container_p.find(\".calc_cur_utc\");\n            this.viewData.p.calc_peaks = this.container_p.find(\".calc_peaks\");\n            this.viewData.p.calc_answer_peaks = this.container_p.find(\".calc_answer_peaks\");\n            this.viewData.p.calc_all_steps = this.container_p.find(\".calc_all_steps\");\n            this.viewData.p.calc_est_steps = this.container_p.find(\".calc_est_steps\");\n            this.viewData.p.calc_idx = this.container_p.find(\".calc_idx\");\n            this.viewData.p.calc_cur_delta = this.container_p.find(\".calc_cur_delta\");\n            this.viewData.p.calc_tune = this.container_p.find(\".calc_tune\");\n\n            this.viewData.nb.calc_cur_step = this.container_nb.find(\".calc_cur_step\");\n            this.viewData.nb.calc_cur_maxval = this.container_nb.find(\".calc_cur_maxval\");\n            this.viewData.nb.calc_cur_utc = this.container_nb.find(\".calc_cur_utc\");\n            this.viewData.nb.calc_peaks = this.container_nb.find(\".calc_peaks\");\n            this.viewData.nb.calc_answer_peaks = this.container_nb.find(\".calc_answer_peaks\");\n            this.viewData.nb.calc_all_steps = this.container_nb.find(\".calc_all_steps\");\n            this.viewData.nb.calc_est_steps = this.container_nb.find(\".calc_est_steps\");\n            this.viewData.nb.calc_idx = this.container_nb.find(\".calc_idx\");\n            this.viewData.nb.calc_cur_delta = this.container_nb.find(\".calc_cur_delta\");\n            this.viewData.nb.calc_tune = this.container_nb.find(\".calc_tune\");\n        } else {\n            throw new Error(\"Нет подключения для выходного контейнера\");\n        }\n        if (cb) {\n            this.callbackFunc = cb;\n        }\n        console.log(\"FlowCalc создан\");\n    }\n\n    _createClass(FlowCalculator, [{\n        key: \"setDataStream\",\n        value: function setDataStream(data_p, data_nb) {\n            if (data_p) {\n                this.data_p = data_p;\n            } else {\n                console.log(\"Нет входных данных Причала\");\n            }\n            if (data_nb) {\n                this.data_nb = data_nb;\n            } else {\n                console.log(\"Нет входных данных Нефтебазы\");\n            }\n        }\n    }, {\n        key: \"calcFlow\",\n        value: function calcFlow(data_p, data_nb, cb) {\n            if ((this.data_p || data_p) && (this.data_nb || data_nb)) {\n                this.prevMaxP = false;\n                this.prevMaxNB = false;\n                //resetors\n                if (data_p) {\n                    this.data_p = data_p;\n                }\n                if (data_nb) {\n                    this.data_nb = data_nb;\n                }\n                if (cb) {\n                    this.callbackFunc = cb;\n                }\n\n                if (this.data_p && this.data_nb) {\n                    //stream 1\n                    var peaks_p = this.data_p.map(function (elem, idx) {\n                        var current_val = this.integrator_p.Integrity(elem.value);\n                        if (idx > this.integrator_p.Buffer.length - 1) {\n                            //фильтруем первые мат ошибки\n                            if (this.checkMaxP(current_val)) {\n                                //если максимальное то берем предыдушее значение и возвращаем в массив пиков\n                                return this.data_p[idx - 1];\n                            }\n                        }\n                    }, this);\n\n                    //stream 2\n                    var peaks_nb = this.data_nb.map(function (elem, idx) {\n                        var current_val = this.integrator_nb.Integrity(elem.value);\n                        if (idx > this.integrator_nb.Buffer.length - 1) {\n                            //фильтруем первые мат ошибки\n                            if (this.checkMaxNB(current_val)) {\n                                //если максимальное то берем предыдушее значение и возвращаем в массив пиков\n                                return this.data_nb[idx - 1];\n                            }\n                        }\n                    }, this);\n\n                    var peaks_splised_p = [];\n                    var peaks_splised_nb = [];\n                    for (var check in peaks_p) {\n                        if (peaks_p[check] != undefined) {\n                            peaks_splised_p.push(peaks_p[check]);\n                        }\n                    }\n                    for (var _check in peaks_nb) {\n                        if (peaks_nb[_check] != undefined) {\n                            peaks_splised_nb.push(peaks_nb[_check]);\n                        }\n                    }\n\n                    //готовим массивы\n                    var peaks_p_fine = [];\n                    var peaks_nb_fine = [];\n                    for (var peak in peaks_splised_p) {\n                        peaks_p_fine[peaks_splised_p[peak].utc] = peaks_splised_p[peak].value;\n                    }\n                    for (var _peak in peaks_splised_nb) {\n                        peaks_nb_fine[peaks_splised_nb[_peak].utc] = peaks_splised_nb[_peak].value;\n                    }\n\n                    //отдаем для анализа\n                    if (this.callbackFunc) this.callbackFunc(); //если есть колбек, выполняем\n                    var Calcresult = this.checkAnswerPoints(peaks_p_fine, peaks_nb_fine);\n                    //console\n                    //console.log(\"calc return:\",Calcresult);\n                    return Calcresult;\n                }\n            }\n        }\n    }, {\n        key: \"checkMaxP\",\n        value: function checkMaxP(nextval) {\n            //проверка вверх и вниз\n            if (this.prevMaxP) {\n                var tmpAbs = Math.abs(nextval);\n                //если новый пик и локер установлен то сбрасывает до следующего заднего фронта\n                if (tmpAbs > this.prevMaxP && this.downlockP) this.downlockP = false;\n                if (tmpAbs < this.prevMaxP && !this.downlockP) {\n                    //проверяем абс значения максимума\n                    //любое падение воспринимается как достижение максимума\n                    this.prevMaxP = tmpAbs;\n                    this.downlockP = true;\n                    return true;\n                }\n            } else {\n                //write init max\n                this.prevMaxP = Math.abs(nextval);\n            }\n            return false;\n        }\n    }, {\n        key: \"checkMaxNB\",\n        value: function checkMaxNB(nextval) {\n            //проверка вверх и вниз\n            if (this.prevMaxNB) {\n                var tmpAbs = Math.abs(nextval);\n                //если новый пик и локер установлен то сбрасывает до следующего заднего фронта\n                if (tmpAbs > this.prevMaxNB && this.downlockNB) this.downlockNB = false;\n                if (tmpAbs < this.prevMaxNB && !this.downlockNB) {\n                    //проверяем абс значения максимума\n                    //любое падение воспринимается как достижение максимума\n                    this.prevMaxNB = tmpAbs;\n                    this.downlockNB = true;\n                    return true;\n                }\n            } else {\n                //write init max\n                this.prevMaxNB = Math.abs(nextval);\n            }\n            return false;\n        }\n    }, {\n        key: \"checkAnswerPoints\",\n        value: function checkAnswerPoints(stream1, stream2) {\n            if (stream1 && stream2) {\n                var result = [];\n\n                for (var id in stream1) {\n                    for (var idx in stream2) {\n                        if (idx - id > 0 && idx - id < 2000) {\n                            result.push(id);\n                        }\n                    }\n                }\n                for (var _id in stream2) {\n                    for (var _idx in stream1) {\n                        if (_idx - _id > 0 && _idx - _id < 2000) {\n                            result.push(_id);\n                        }\n                    }\n                }\n                return result;\n            }\n        }\n    }, {\n        key: \"setCallback\",\n        value: function setCallback(cb) {\n            if (cb) {\n                this.callbackFunc = cb;\n            } else {\n                this.callbackFunc = null;\n            }\n        }\n    }]);\n\n    return FlowCalculator;\n}();\n\nexports.default = FlowCalculator;\n\n/***/ }),\n\n/***/ 6:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LStore = function () {\n    function LStore() {\n        _classCallCheck(this, LStore);\n    }\n\n    _createClass(LStore, [{\n        key: \"saveSettings\",\n        value: function saveSettings(objectToSave) {\n            Object.keys(objectToSave).map(function (element, idx) {\n                if (window.localStorage) {\n                    localStorage.setItem(element, objectToSave[element]);\n                    console.log(\"idx-\" + idx + \":\" + element + \":\" + objectToSave[element] + \" is saved\");\n                } else {\n                    showSysMsg(\"Ваш браузер не поддерживает сохранение настроек\");\n                }\n            });\n            //localStorage.setItem(\"username\",user);\n        }\n    }, {\n        key: \"loadSettings\",\n        value: function loadSettings() {\n            Global.INTSettings = {};\n            Global.RTSettings = {};\n            if (localStorage.getItem(\"RTVertRange\") != null) {\n                var tmp = JSON.parse(localStorage.getItem(\"RTVertRange\"));\n                $('#rt_vertRange').val(tmp);\n                $('#rt_vertRange_slider').slider({ value: tmp });\n                Global.RTSettings.vertRange = tmp;\n            }\n            if (localStorage.getItem(\"RTbuffer\") != null) {\n                var tmp = JSON.parse(localStorage.getItem(\"RTbuffer\"));\n                $('#rt_buffer').val(tmp);\n                $('#rt_buffer_slider').slider({ value: tmp });\n                Global.RTSettings.buffer = tmp;\n            }\n            if (localStorage.getItem(\"ampFilterNB\") != null) {\n                var tmp = JSON.parse(localStorage.getItem(\"ampFilterNB\"));\n                $('#int_ampfilter_nb').val(tmp);\n                $('#int_ampfilter_slider_nb').slider({ value: tmp });\n                Global.INTSettings.ampFilterNB = tmp;\n            }\n            if (localStorage.getItem(\"ampFilterP\") != null) {\n                var tmp = JSON.parse(localStorage.getItem(\"ampFilterP\"));\n                $('#int_ampfilter_p').val(tmp);\n                $('#int_ampfilter_slider_p').slider({ value: tmp });\n                Global.INTSettings.ampFilterP = tmp;\n            }\n            if (localStorage.getItem(\"ampNB\") != null) {\n                var tmp = JSON.parse(localStorage.getItem(\"ampNB\"));\n                $('#int_ampliffer_nb').val(tmp);\n                $('#int_amp_slider_nb').slider({ value: tmp });\n                Global.INTSettings.ampNB = tmp;\n            }\n            if (localStorage.getItem(\"ampP\") != null) {\n                var tmp = JSON.parse(localStorage.getItem(\"ampP\"));\n                $('#int_ampliffer_p').val(tmp);\n                $('#int_amp_slider_p').slider({ value: tmp });\n                Global.INTSettings.ampP = tmp;\n            }\n            if (localStorage.getItem(\"post\") != null) {\n                var tmp = JSON.parse(localStorage.getItem(\"post\"));\n                $('#int_postbuffer').val(tmp);\n                $('#int_post_slider').slider({ value: tmp });\n                Global.INTSettings.post = tmp;\n            }\n            if (localStorage.getItem(\"pre\") != null) {\n                var tmp = JSON.parse(localStorage.getItem(\"pre\"));\n                $('#int_prebuffer').val(tmp);\n                $('#int_pre_slider').slider({ value: tmp });\n                Global.INTSettings.pre = tmp;\n            }\n            if (localStorage.getItem(\"tube1t\") != null) {\n                var tmp = JSON.parse(localStorage.getItem(\"tube1t\"));\n                if (tmp) {\n                    $(\".btn_rt1_t\").addClass(\"active\");\n                    $(\".btn_rt1_t\").addClass(\"btn-danger\");\n                    $(\"#rt_trend1\").show(500, function () {\n                        Global.Trend1.reflow();\n                    });\n                } else {\n                    $(\".btn_rt1_t\").removeClass(\"active\");\n                    $(\".btn_rt1_t\").removeClass(\"btn-danger\");\n                    $(\"#rt_trend1\").hide(0);\n                }\n                Global.tube1T = tmp;\n            }\n            if (localStorage.getItem(\"tube2t\") != null) {\n                var tmp = JSON.parse(localStorage.getItem(\"tube2t\"));\n                if (tmp) {\n                    $(\".btn_rt2_t\").addClass(\"active\");\n                    $(\".btn_rt2_t\").addClass(\"btn-danger\");\n                    $(\"#rt_trend2\").show(500, function () {\n                        Global.Trend2.reflow();\n                    });\n                } else {\n                    $(\".btn_rt2_t\").removeClass(\"active\");\n                    $(\".btn_rt2_t\").removeClass(\"btn-danger\");\n                    $(\"#rt_trend2\").hide(0);\n                }\n                Global.tube2T = tmp;\n            }\n            if (localStorage.getItem(\"tube3t\") != null) {\n                var tmp = JSON.parse(localStorage.getItem(\"tube3t\"));\n                if (tmp) {\n                    $(\".btn_rt3_t\").addClass(\"active\");\n                    $(\".btn_rt3_t\").addClass(\"btn-danger\");\n                    $(\"#rt_trend3\").show(500, function () {\n                        Global.Trend3.reflow();\n                    });\n                } else {\n                    $(\".btn_rt3_t\").removeClass(\"active\");\n                    $(\".btn_rt3_t\").removeClass(\"btn-danger\");\n                    $(\"#rt_trend3\").hide(0);\n                }\n                Global.tube3T = tmp;\n            }\n            if (localStorage.getItem(\"tube4t\") != null) {\n                var tmp = JSON.parse(localStorage.getItem(\"tube4t\"));\n                if (tmp) {\n                    $(\".btn_rt4_t\").addClass(\"active\");\n                    $(\".btn_rt4_t\").addClass(\"btn-danger\");\n                    $(\"#rt_trend4\").show(500, function () {\n                        Global.Trend4.reflow();\n                    });\n                } else {\n                    $(\".btn_rt4_t\").removeClass(\"active\");\n                    $(\".btn_rt4_t\").removeClass(\"btn-danger\");\n                    $(\"#rt_trend4\").hide(0);\n                }\n                Global.tube4T = tmp;\n            }\n\n            if (localStorage.getItem(\"INTTONLYBtn\") != null) {\n                var tmp = JSON.parse(localStorage.getItem(\"INTTONLYBtn\"));\n                Global.IntToggleOnly = tmp;\n                intToggleOnly();\n            }\n            if (localStorage.getItem(\"INTARJBtn\") != null) {\n                var tmp = JSON.parse(localStorage.getItem(\"INTARJBtn\"));\n                Global.IntARJT = tmp;\n                intArjToggle();\n            }\n            if (localStorage.getItem(\"INTRTTBtn\") != null) {\n                var tmp = JSON.parse(localStorage.getItem(\"INTRTTBtn\"));\n                Global.IntRTT = tmp;\n                intRTTToggle();\n            }\n\n            if (Global.RTSettings.buffer && Global.RTSettings.vertRange) {\n                saveRTSettings();\n            }\n            if (Global.INTSettings.pre && Global.INTSettings.post && Global.INTSettings.ampNB && Global.INTSettings.ampP && Global.INTSettings.ampFilterNB && Global.INTSettings.ampFilterP) {\n                saveIntSettings();\n            }\n        }\n    }]);\n\n    return LStore;\n}();\n\nexports.default = LStore;\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// loader.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"public/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c53dc219875efbeb8e01","import ls from \"./storage.js\";\r\nimport flowcalculator from \"./flowcalculator.js\";\r\n\r\nwindow.ls = new ls();\r\nwindow.FC = flowcalculator;\n\n\n// WEBPACK FOOTER //\n// ./js/loader.js","class FlowCalculator{\r\n    constructor(data_p,data_nb,integrator_p,integrator_nb,view,cb){\r\n        if(data_p){\r\n            this.data_p = data_p;\r\n        }else {\r\n            throw new Error(\"Нет входных данных Причала\");\r\n        }\r\n        if(data_nb){\r\n            this.data_nb = data_nb;\r\n        }else {\r\n            throw new Error(\"Нет входных данных Нефтебазы\");\r\n        }\r\n        if(integrator_p){\r\n            this.integrator_p = integrator_p;\r\n        }else {\r\n            throw new Error(\"Нет Дельта-сигма интегратора для потока причала\");\r\n        }\r\n        if(integrator_nb){\r\n            this.integrator_nb = integrator_nb;\r\n        }else {\r\n            throw new Error(\"Нет Дельта-сигма интегратора для потока нефтебазы\");\r\n        }\r\n        if(view){\r\n            this.viewContainerId = view;\r\n            this.viewContainer = $(view);\r\n            this.btn = this.viewContainer.find(\"#btn_calc_auto\");\r\n            this.console_p = this.viewContainer.find(\".streamlog .p\");\r\n            this.console_nb = this.viewContainer.find(\".streamlog .nb\");\r\n            this.container_p = this.viewContainer.find(\".streamcontainer .p\");\r\n            this.container_nb = this.viewContainer.find(\".streamcontainer .nb\");\r\n            this.viewData = {};\r\n            this.viewData.p = {};\r\n            this.viewData.nb = {};\r\n            this.viewData.p.calc_cur_step = this.container_p.find(\".calc_cur_step\");\r\n            this.viewData.p.calc_cur_maxval = this.container_p.find(\".calc_cur_maxval\");\r\n            this.viewData.p.calc_cur_utc = this.container_p.find(\".calc_cur_utc\");\r\n            this.viewData.p.calc_peaks = this.container_p.find(\".calc_peaks\");\r\n            this.viewData.p.calc_answer_peaks = this.container_p.find(\".calc_answer_peaks\");\r\n            this.viewData.p.calc_all_steps = this.container_p.find(\".calc_all_steps\");\r\n            this.viewData.p.calc_est_steps = this.container_p.find(\".calc_est_steps\");\r\n            this.viewData.p.calc_idx = this.container_p.find(\".calc_idx\");\r\n            this.viewData.p.calc_cur_delta = this.container_p.find(\".calc_cur_delta\");\r\n            this.viewData.p.calc_tune = this.container_p.find(\".calc_tune\");\r\n\r\n            this.viewData.nb.calc_cur_step = this.container_nb.find(\".calc_cur_step\");\r\n            this.viewData.nb.calc_cur_maxval = this.container_nb.find(\".calc_cur_maxval\");\r\n            this.viewData.nb.calc_cur_utc = this.container_nb.find(\".calc_cur_utc\");\r\n            this.viewData.nb.calc_peaks = this.container_nb.find(\".calc_peaks\");\r\n            this.viewData.nb.calc_answer_peaks = this.container_nb.find(\".calc_answer_peaks\");\r\n            this.viewData.nb.calc_all_steps = this.container_nb.find(\".calc_all_steps\");\r\n            this.viewData.nb.calc_est_steps = this.container_nb.find(\".calc_est_steps\");\r\n            this.viewData.nb.calc_idx = this.container_nb.find(\".calc_idx\");\r\n            this.viewData.nb.calc_cur_delta = this.container_nb.find(\".calc_cur_delta\");\r\n            this.viewData.nb.calc_tune = this.container_nb.find(\".calc_tune\");\r\n\r\n        }else {\r\n            throw new Error(\"Нет подключения для выходного контейнера\");\r\n        }\r\n        if(cb) {\r\n            this.callbackFunc = cb;\r\n        }\r\n        console.log(\"FlowCalc создан\");\r\n    }\r\n    setDataStream(data_p,data_nb){\r\n        if(data_p){\r\n            this.data_p = data_p;\r\n        }else {\r\n            console.log(\"Нет входных данных Причала\");\r\n        }\r\n        if(data_nb){\r\n            this.data_nb = data_nb;\r\n        }else {\r\n            console.log(\"Нет входных данных Нефтебазы\");\r\n        }\r\n    }\r\n    calcFlow(data_p,data_nb,cb){\r\n        if((this.data_p || data_p) && (this.data_nb || data_nb)){\r\n            this.prevMaxP = false;\r\n            this.prevMaxNB = false;\r\n            //resetors\r\n            if(data_p){\r\n                this.data_p = data_p;\r\n            }\r\n            if(data_nb){\r\n                this.data_nb = data_nb;\r\n            }\r\n            if(cb){\r\n                this.callbackFunc = cb;\r\n            }\r\n\r\n            if(this.data_p && this.data_nb){\r\n                //stream 1\r\n                let peaks_p = this.data_p.map(function (elem,idx) {\r\n                    let current_val=this.integrator_p.Integrity(elem.value);\r\n                    if(idx > this.integrator_p.Buffer.length-1){\r\n                        //фильтруем первые мат ошибки\r\n                        if(this.checkMaxP(current_val)){\r\n                            //если максимальное то берем предыдушее значение и возвращаем в массив пиков\r\n                            return this.data_p[idx-1];\r\n                        }\r\n                    }\r\n                },this);\r\n\r\n                //stream 2\r\n                let peaks_nb = this.data_nb.map(function (elem,idx) {\r\n                    let current_val=this.integrator_nb.Integrity(elem.value);\r\n                    if(idx > this.integrator_nb.Buffer.length-1){\r\n                        //фильтруем первые мат ошибки\r\n                        if(this.checkMaxNB(current_val)){\r\n                            //если максимальное то берем предыдушее значение и возвращаем в массив пиков\r\n                            return this.data_nb[idx-1];\r\n                        }\r\n                    }\r\n                },this);\r\n\r\n                let peaks_splised_p = [];\r\n                let peaks_splised_nb = [];\r\n                for(let check in peaks_p){\r\n                    if (peaks_p[check] != undefined){\r\n                        peaks_splised_p.push(peaks_p[check]);\r\n                    }\r\n                }\r\n                for(let check in peaks_nb){\r\n                    if (peaks_nb[check] != undefined){\r\n                        peaks_splised_nb.push(peaks_nb[check]);\r\n                    }\r\n                }\r\n\r\n                //готовим массивы\r\n                let peaks_p_fine = [];\r\n                let peaks_nb_fine = [];\r\n                for(let peak in peaks_splised_p){\r\n                    peaks_p_fine[peaks_splised_p[peak].utc] = peaks_splised_p[peak].value;\r\n                }\r\n                for(let peak in peaks_splised_nb){\r\n                    peaks_nb_fine[peaks_splised_nb[peak].utc] = peaks_splised_nb[peak].value;\r\n                }\r\n\r\n                //отдаем для анализа\r\n                if(this.callbackFunc)this.callbackFunc();//если есть колбек, выполняем\r\n                let Calcresult = this.checkAnswerPoints(peaks_p_fine,peaks_nb_fine);\r\n                //console\r\n                //console.log(\"calc return:\",Calcresult);\r\n                return Calcresult;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    checkMaxP(nextval){\r\n        //проверка вверх и вниз\r\n        if(this.prevMaxP){\r\n            let tmpAbs = Math.abs(nextval);\r\n            //если новый пик и локер установлен то сбрасывает до следующего заднего фронта\r\n            if((tmpAbs > this.prevMaxP) && (this.downlockP))this.downlockP = false;\r\n            if((tmpAbs < this.prevMaxP) && (!this.downlockP)){\r\n                //проверяем абс значения максимума\r\n                //любое падение воспринимается как достижение максимума\r\n                this.prevMaxP = tmpAbs;\r\n                this.downlockP = true;\r\n                return true;\r\n            }\r\n        }else {\r\n            //write init max\r\n            this.prevMaxP = Math.abs(nextval);\r\n        }\r\n        return false;\r\n    }\r\n    checkMaxNB(nextval){\r\n        //проверка вверх и вниз\r\n        if(this.prevMaxNB){\r\n            let tmpAbs = Math.abs(nextval);\r\n            //если новый пик и локер установлен то сбрасывает до следующего заднего фронта\r\n            if((tmpAbs > this.prevMaxNB) && (this.downlockNB))this.downlockNB = false;\r\n            if((tmpAbs < this.prevMaxNB) && (!this.downlockNB)){\r\n                //проверяем абс значения максимума\r\n                //любое падение воспринимается как достижение максимума\r\n                this.prevMaxNB = tmpAbs;\r\n                this.downlockNB = true;\r\n                return true;\r\n            }\r\n        }else {\r\n            //write init max\r\n            this.prevMaxNB = Math.abs(nextval);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    checkAnswerPoints(stream1,stream2){\r\n        if(stream1 && stream2){\r\n            let result = [];\r\n\r\n            for (let id in stream1){\r\n                for(let idx in stream2){\r\n                    if((idx-id > 0) && (idx-id < 2000)){\r\n                        result.push(id);\r\n                    }\r\n                }\r\n            }\r\n            for (let id in stream2){\r\n                for(let idx in stream1){\r\n                    if((idx-id > 0) && (idx-id < 2000)){\r\n                        result.push(id);\r\n                    }\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n    setCallback(cb){\r\n        if(cb){\r\n            this.callbackFunc = cb;\r\n        }else {\r\n            this.callbackFunc = null;\r\n        }\r\n    }\r\n}\r\n\r\nexport default FlowCalculator;\n\n\n// WEBPACK FOOTER //\n// ./js/flowcalculator.js","export default class LStore{\r\n    saveSettings(objectToSave){\r\n        Object.keys(objectToSave).map(function (element,idx) {\r\n            if(window.localStorage){\r\n                localStorage.setItem(element,objectToSave[element]);\r\n                console.log(\"idx-\"+idx+\":\"+element+\":\"+objectToSave[element]+\" is saved\");\r\n            }else {\r\n                showSysMsg(\"Ваш браузер не поддерживает сохранение настроек\");\r\n            }\r\n        });\r\n        //localStorage.setItem(\"username\",user);\r\n    }\r\n    loadSettings() {\r\n        Global.INTSettings = {};\r\n        Global.RTSettings = {};\r\n        if(localStorage.getItem(\"RTVertRange\")!=null){\r\n            var tmp = JSON.parse(localStorage.getItem(\"RTVertRange\"));\r\n            $('#rt_vertRange').val(tmp);\r\n            $('#rt_vertRange_slider').slider({value:tmp});\r\n            Global.RTSettings.vertRange = tmp;\r\n        }\r\n        if(localStorage.getItem(\"RTbuffer\")!=null){\r\n            var tmp = JSON.parse(localStorage.getItem(\"RTbuffer\"));\r\n            $('#rt_buffer').val(tmp);\r\n            $('#rt_buffer_slider').slider({value:tmp});\r\n            Global.RTSettings.buffer = tmp;\r\n        }\r\n        if(localStorage.getItem(\"ampFilterNB\")!=null){\r\n            var tmp = JSON.parse(localStorage.getItem(\"ampFilterNB\"));\r\n            $('#int_ampfilter_nb').val(tmp);\r\n            $('#int_ampfilter_slider_nb').slider({value:tmp});\r\n            Global.INTSettings.ampFilterNB = tmp;\r\n        }\r\n        if(localStorage.getItem(\"ampFilterP\")!=null){\r\n            var tmp = JSON.parse(localStorage.getItem(\"ampFilterP\"));\r\n            $('#int_ampfilter_p').val(tmp);\r\n            $('#int_ampfilter_slider_p').slider({value:tmp});\r\n            Global.INTSettings.ampFilterP = tmp;\r\n        }\r\n        if(localStorage.getItem(\"ampNB\")!=null){\r\n            var tmp = JSON.parse(localStorage.getItem(\"ampNB\"));\r\n            $('#int_ampliffer_nb').val(tmp);\r\n            $('#int_amp_slider_nb').slider({value:tmp});\r\n            Global.INTSettings.ampNB = tmp;\r\n        }\r\n        if(localStorage.getItem(\"ampP\")!=null){\r\n            var tmp = JSON.parse(localStorage.getItem(\"ampP\"));\r\n            $('#int_ampliffer_p').val(tmp);\r\n            $('#int_amp_slider_p').slider({value:tmp});\r\n            Global.INTSettings.ampP = tmp;\r\n        }\r\n        if(localStorage.getItem(\"post\")!=null){\r\n            var tmp = JSON.parse(localStorage.getItem(\"post\"));\r\n            $('#int_postbuffer').val(tmp);\r\n            $('#int_post_slider').slider({value:tmp});\r\n            Global.INTSettings.post = tmp;\r\n        }\r\n        if(localStorage.getItem(\"pre\")!=null){\r\n            var tmp = JSON.parse(localStorage.getItem(\"pre\"));\r\n            $('#int_prebuffer').val(tmp);\r\n            $('#int_pre_slider').slider({value:tmp});\r\n            Global.INTSettings.pre = tmp;\r\n        }\r\n        if(localStorage.getItem(\"tube1t\")!=null){\r\n            var tmp = JSON.parse(localStorage.getItem(\"tube1t\"));\r\n            if(tmp){\r\n                $(\".btn_rt1_t\").addClass(\"active\");\r\n                $(\".btn_rt1_t\").addClass(\"btn-danger\");\r\n                $(\"#rt_trend1\").show(500,function () {\r\n                    Global.Trend1.reflow();\r\n                });\r\n            }else {\r\n                $(\".btn_rt1_t\").removeClass(\"active\");\r\n                $(\".btn_rt1_t\").removeClass(\"btn-danger\");\r\n                $(\"#rt_trend1\").hide(0);\r\n            }\r\n            Global.tube1T = tmp;\r\n        }\r\n        if(localStorage.getItem(\"tube2t\")!=null){\r\n            var tmp = JSON.parse(localStorage.getItem(\"tube2t\"));\r\n            if(tmp){\r\n                $(\".btn_rt2_t\").addClass(\"active\");\r\n                $(\".btn_rt2_t\").addClass(\"btn-danger\");\r\n                $(\"#rt_trend2\").show(500,function () {\r\n                    Global.Trend2.reflow();\r\n                });\r\n            }else {\r\n                $(\".btn_rt2_t\").removeClass(\"active\");\r\n                $(\".btn_rt2_t\").removeClass(\"btn-danger\");\r\n                $(\"#rt_trend2\").hide(0);\r\n            }\r\n            Global.tube2T = tmp;\r\n        }\r\n        if(localStorage.getItem(\"tube3t\")!=null){\r\n            var tmp = JSON.parse(localStorage.getItem(\"tube3t\"));\r\n            if(tmp){\r\n                $(\".btn_rt3_t\").addClass(\"active\");\r\n                $(\".btn_rt3_t\").addClass(\"btn-danger\");\r\n                $(\"#rt_trend3\").show(500,function () {\r\n                    Global.Trend3.reflow();\r\n                });\r\n            }else {\r\n                $(\".btn_rt3_t\").removeClass(\"active\");\r\n                $(\".btn_rt3_t\").removeClass(\"btn-danger\");\r\n                $(\"#rt_trend3\").hide(0);\r\n            }\r\n            Global.tube3T = tmp;\r\n        }\r\n        if(localStorage.getItem(\"tube4t\")!=null){\r\n            var tmp = JSON.parse(localStorage.getItem(\"tube4t\"));\r\n            if(tmp){\r\n                $(\".btn_rt4_t\").addClass(\"active\");\r\n                $(\".btn_rt4_t\").addClass(\"btn-danger\");\r\n                $(\"#rt_trend4\").show(500,function () {\r\n                    Global.Trend4.reflow();\r\n                });\r\n            }else {\r\n                $(\".btn_rt4_t\").removeClass(\"active\");\r\n                $(\".btn_rt4_t\").removeClass(\"btn-danger\");\r\n                $(\"#rt_trend4\").hide(0);\r\n            }\r\n            Global.tube4T = tmp;\r\n        }\r\n\r\n        if(localStorage.getItem(\"INTTONLYBtn\")!=null){\r\n            var tmp = JSON.parse(localStorage.getItem(\"INTTONLYBtn\"));\r\n            Global.IntToggleOnly = tmp;\r\n            intToggleOnly();\r\n        }\r\n        if(localStorage.getItem(\"INTARJBtn\")!=null){\r\n            var tmp = JSON.parse(localStorage.getItem(\"INTARJBtn\"));\r\n            Global.IntARJT = tmp;\r\n            intArjToggle();\r\n        }\r\n        if(localStorage.getItem(\"INTRTTBtn\")!=null){\r\n            var tmp = JSON.parse(localStorage.getItem(\"INTRTTBtn\"));\r\n            Global.IntRTT = tmp;\r\n            intRTTToggle();\r\n        }\r\n\r\n        if(Global.RTSettings.buffer && Global.RTSettings.vertRange){\r\n            saveRTSettings();\r\n        }\r\n        if(Global.INTSettings.pre && Global.INTSettings.post && Global.INTSettings.ampNB && Global.INTSettings.ampP && Global.INTSettings.ampFilterNB && Global.INTSettings.ampFilterP){\r\n            saveIntSettings();\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/storage.js"],"sourceRoot":""}